[gd_scene load_steps=24 format=3 uid="uid://bbosiw7pc21r3"]

[ext_resource type="Script" path="res://Scripts/XRSetup.gd" id="1_2b3gi"]
[ext_resource type="Script" path="res://Scripts/PlayerMovement.gd" id="2_bqc7i"]
[ext_resource type="Script" path="res://Scripts/Contollers/SwitchControllers.gd" id="3_m6sqp"]
[ext_resource type="PackedScene" uid="uid://bfgjo42yw61v2" path="res://SceneInstances/JetpackController.tscn" id="4_oc6n4"]
[ext_resource type="PackedScene" uid="uid://c0fia5kqtyu4c" path="res://SceneInstances/JBubbleCursor.tscn" id="5_2nd18"]
[ext_resource type="PackedScene" uid="uid://dmkjj2o6d4yle" path="res://SceneInstances/JFlashlightSelection.tscn" id="6_s083v"]
[ext_resource type="PackedScene" uid="uid://bn6laar0b1t3p" path="res://SceneInstances/GUI.tscn" id="7_0x617"]
[ext_resource type="Script" path="res://Scripts/Orbs/WebHandler2.gd" id="7_acbos"]
[ext_resource type="PackedScene" uid="uid://d2ny4h0w312eh" path="res://Models/Animals/Deer/Deer.glb" id="9_7eqr1"]
[ext_resource type="Script" path="res://Scripts/Orbs/OrbPopupScripts/DeerPopup.gd" id="10_gcdeq"]
[ext_resource type="PackedScene" uid="uid://bembmau1gxhyb" path="res://Models/Animals/Fox/Fox.glb" id="10_i4ldd"]
[ext_resource type="PackedScene" uid="uid://b3pr0ff3ly0b3" path="res://Models/Animals/Duck/Duck.glb" id="11_aehqm"]
[ext_resource type="PackedScene" uid="uid://c4j4xocvlth1f" path="res://Models/Animals/Squirrel/Squirrel.glb" id="12_6il63"]
[ext_resource type="Script" path="res://Scripts/Orbs/OrbPopupScripts/FoxPopup.gd" id="12_8klt4"]
[ext_resource type="PackedScene" uid="uid://bvuii2i1lenug" path="res://Models/Animals/Coyote/Coyote.glb" id="13_tmlhg"]
[ext_resource type="PackedScene" uid="uid://caxcapgoijnvn" path="res://SceneInstances/JTestOrb.tscn" id="13_um5f1"]
[ext_resource type="Script" path="res://Scripts/Orbs/OrbPopupScripts/DuckPopup.gd" id="14_hmgdw"]
[ext_resource type="Script" path="res://Scripts/Orbs/OrbPopupScripts/SquirrelPopup.gd" id="16_h6m55"]
[ext_resource type="Script" path="res://Scripts/Orbs/OrbPopupScripts/CoyotePopup.gd" id="18_yncxq"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5cj7l"]
sky_top_color = Color(0.384314, 0.454902, 0.713726, 1)
sky_horizon_color = Color(0.556863, 0.654902, 0.670588, 1)
ground_bottom_color = Color(0.258159, 0.431479, 0.176322, 1)
ground_horizon_color = Color(0.243137, 0.427451, 0.337255, 1)
sun_angle_max = 56.26

[sub_resource type="Sky" id="Sky_sqtp2"]
sky_material = SubResource("ProceduralSkyMaterial_5cj7l")

[sub_resource type="Environment" id="Environment_u8y0r"]
background_mode = 2
sky = SubResource("Sky_sqtp2")

[sub_resource type="BoxShape3D" id="BoxShape3D_l7vjb"]
size = Vector3(10000, 0, 10000)

[node name="Main" type="Node3D"]
script = ExtResource("1_2b3gi")

[node name="XROrigin3D" type="XROrigin3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.55686)
script = ExtResource("2_bqc7i")

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)

[node name="LeftController" type="XRController3D" parent="XROrigin3D" groups=["controllers"]]
tracker = &"left_hand"
script = ExtResource("3_m6sqp")
jetpack_scene = ExtResource("4_oc6n4")
bubble_cursor_scene = ExtResource("5_2nd18")
flashlight_scene = ExtResource("6_s083v")
is_left = true

[node name="RightController" type="XRController3D" parent="XROrigin3D" groups=["controllers"]]
tracker = &"right_hand"
script = ExtResource("3_m6sqp")
jetpack_scene = ExtResource("4_oc6n4")
bubble_cursor_scene = ExtResource("5_2nd18")
flashlight_scene = ExtResource("6_s083v")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_u8y0r")

[node name="groundPlane" type="StaticBody3D" parent="WorldEnvironment"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="WorldEnvironment/groundPlane"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.01, 0)
shape = SubResource("BoxShape3D_l7vjb")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.979099, -0.105669, -0.173781, 0.201736, 0.39595, 0.895839, -0.0258536, -0.912172, 0.408991, 0, 0, 0)

[node name="Gui" parent="WorldEnvironment" instance=ExtResource("7_0x617")]
transform = Transform3D(0.743063, 0, -0.669221, 0, 1, 0, 0.669221, 0, 0.743063, 3.5017, 1.87913, -0.00872278)

[node name="Web" type="Node3D" parent="."]
script = ExtResource("7_acbos")

[node name="Shelf" type="Node3D" parent="."]

[node name="DeerOrb" parent="Shelf" instance=ExtResource("13_um5f1")]
skeleton = NodePath("../../Web")
animalName = "deer"
goalLoc = Vector3(1.5, 2.7, -3)
popupScript = ExtResource("10_gcdeq")

[node name="Deer" parent="Shelf/DeerOrb" instance=ExtResource("9_7eqr1")]
transform = Transform3D(0.005, 0, 0, 0, 0.005, 0, 0, 0, 0.005, 0, 0, 0)

[node name="FoxOrb" parent="Shelf" instance=ExtResource("13_um5f1")]
skeleton = NodePath("../..")
animalName = "fox"
goalLoc = Vector3(0, 1.6, -6)
popupScript = ExtResource("12_8klt4")

[node name="Fox" parent="Shelf/FoxOrb" instance=ExtResource("10_i4ldd")]
transform = Transform3D(0.13, 0, 0, 0, 0.13, 0, 0, 0, 0.13, 0, -0.2, 0)

[node name="DuckOrb" parent="Shelf" instance=ExtResource("13_um5f1")]
skeleton = NodePath("../../Web")
animalName = "duck"
goalLoc = Vector3(4, 1, -2.6)
popupScript = ExtResource("14_hmgdw")

[node name="Duck" parent="Shelf/DuckOrb" instance=ExtResource("11_aehqm")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, -0.2, 0)

[node name="SquirrelOrb" parent="Shelf" instance=ExtResource("13_um5f1")]
skeleton = NodePath("../../Web")
animalName = "squirrel"
goalLoc = Vector3(-4.6, 2.6, -4.3)
popupScript = ExtResource("16_h6m55")

[node name="Squirrel" parent="Shelf/SquirrelOrb" instance=ExtResource("12_6il63")]
transform = Transform3D(0.006, 0, 0, 0, 0.006, 0, 0, 0, 0.006, 0, 0, 0)

[node name="CoyoteOrb" parent="Shelf" instance=ExtResource("13_um5f1")]
skeleton = NodePath("../../Web")
animalName = "coyote"
goalLoc = Vector3(-2.5, 0.5, -1.4)
popupScript = ExtResource("18_yncxq")

[node name="Coyote" parent="Shelf/CoyoteOrb" instance=ExtResource("13_tmlhg")]
transform = Transform3D(0.125, 0, 0, 0, 0.125, 0, 0, 0, 0.125, 0, -0.287, 0)

[connection signal="button_pressed" from="XROrigin3D/LeftController" to="XROrigin3D/LeftController" method="_on_button_pressed"]
[connection signal="button_released" from="XROrigin3D/LeftController" to="XROrigin3D/LeftController" method="_on_button_released"]
[connection signal="input_float_changed" from="XROrigin3D/LeftController" to="XROrigin3D/LeftController" method="_on_input_float_changed"]
[connection signal="input_vector2_changed" from="XROrigin3D/LeftController" to="XROrigin3D/LeftController" method="_on_input_vector_2_changed"]
[connection signal="button_pressed" from="XROrigin3D/RightController" to="XROrigin3D/RightController" method="_on_button_pressed"]
[connection signal="button_released" from="XROrigin3D/RightController" to="XROrigin3D/RightController" method="_on_button_released"]
[connection signal="input_float_changed" from="XROrigin3D/RightController" to="XROrigin3D/RightController" method="_on_input_float_changed"]
[connection signal="input_vector2_changed" from="XROrigin3D/RightController" to="XROrigin3D/RightController" method="_on_input_vector_2_changed"]
